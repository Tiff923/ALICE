from sklearn.feature_extraction.text import TfidfVectorizer, CountVectorizer
from sklearn.decomposition import NMF, LatentDirichletAllocation

def topic_modelling(documents,no_topics = 3,no_top_words = 5):
    no_features = 1000

    # NMF is able to use tf-idf
    tfidf_vectorizer = TfidfVectorizer(max_df=0.95, min_df=1, max_features=no_features, stop_words='english')
    tfidf = tfidf_vectorizer.fit_transform(documents)
    tfidf_feature_names = tfidf_vectorizer.get_feature_names()

    # Run NMF
    nmf = NMF(n_components=no_topics, random_state=1, alpha=.1, l1_ratio=.5).fit(tfidf)

    list_of_topics = []
    for topic_idx, topic in enumerate(nmf.components_):
        words_of_topic = " ".join([tfidf_feature_names[i]
                            for i in topic.argsort()[:-no_top_words - 1:-1]])
        list_of_topics.append(words_of_topic)
        
    return list_of_topics

corpus = ["World Health Organization (WHO) member states have agreed to set up an independent inquiry into the global response to the coronavirus pandemic.  The resolution, approved without objection by the WHO's 194-member annual assembly meeting virtually in Geneva, also allows for the inquiry to look into the health body's own role.  The United States in particular has been highly critical of its response.  The EU presented the resolution on behalf of 100 nations. It calls for an \"impartial, independent and comprehensive evaluation\" of the international response. This will also focus on the WHO's \"timelines pertaining to the Covid-19 pandemic\". The body has faced criticism that it was late to declare a health emergency. The resolution also calls for the world to ensure \"transparent, equitable and timely access\" to any treatments or vaccines, and pushes for the WHO to investigate the \"source of the virus and the route of introduction to the human population\".  \"As I see no requests for the floor, I take it that there is no objection and the resolution is therefore adopted,\" declared the assembly's president, Keva Bain, the Bahamas ambassador.  President Donald Trump has labelled the organisation a \"puppet\" of China and suspended funding for the WHO. The US is the largest donor.  He has also accused China of trying to cover up the outbreak - something it strongly rejects - and said the WHO had failed to hold Beijing to account. The president on Monday published a letter he sent to WHO head Dr Tedros Adhanom Ghebreyesus outlining specific issues the US has.  US Health Secretary Alex Azar was scathing in his address to the assembly on Monday.  \"We must be frank about one of the primary reasons this outbreak spun out of control: there was a failure by this organisation to obtain the information that the world needed, and that failure cost many lives,\" he said.  President Trump faces re-election this year and opponents see his criticism as an attempt to deflect blame for his handling of the pandemic in the US, which has the highest number of cases, and deaths, which passed 90,000 on Monday.  However, the European Union, along with countries including the UK, Australia and New Zealand, had also been pushing for an inquiry into how the pandemic was handled.  EU spokeswoman Virginie Battu-Henriksson said that several key questions needed to be answered as part of any review. \"How did this pandemic spread? What is the epidemiology behind it? All this is absolutely crucial for us going forward to avoid another pandemic of this kind,\" she said. But she added that now was not the time for \"any sort of blame game\".  Dr Tedros had already agreed to a review of the agency's handling of the pandemic, while dismissing suggestions it needed a far-reaching overhaul. He said an independent evaluation, which would look at what lessons could be learned and put forward any recommendations, would take place \"at the earliest opportunity\". He called for the WHO, among other organisations, to be strengthened. The first coronavirus cases emerged in the Chinese city of Wuhan last December. The virus was widely reported to have sprung from a food market after crossing the species barrier from animals to humans. China was accused of trying to cover up the infections in the early weeks.   Some senior US politicians have suggested that the source was a laboratory in Wuhan that had been carrying out research on bat coronaviruses. China has dismissed the idea, and Western experts have cast doubt too. China says it has been frank about the development of the epidemic in China, publishing the genetic code of the virus in January and being quick to share information with the WHO.  President Xi Jinping told the assembly on Monday that his country had acted \"with openness and transparency\" and insisted that any investigation should happen after the pandemic was brought under control.  Foreign ministry spokesman Zhao Lijian told a press briefing in Beijing on Tuesday that the US was trying to smear China in order to avoid its own responsibilities. More than 4.5 million people have been infected globally and more than 300,000 have died since the virus first emerged. ", 
         "Chile's government has said it will go ahead with a controversial plan to issue certificates to people who have recovered from Covid-19. The documents would be given to people to allow them to return to work, Deputy Health Minister Paula Daza said. The World Health Organization (WHO) has said there is \"no evidence\" that people who contract coronavirus are immune from being infected again. It said certificates could inspire false confidence and help it spread. Chile has reported 189 virus-related deaths and more than 13,000 confirmed cases of coronavirus, according to data from Johns Hopkins University. \"There is currently no evidence that people who have recovered from Covid-19 and have antibodies are protected from a second infection,\" the WHO said in a briefing note on Friday. The body argued that so-called \"immunity certificates\" could even be harmful, because they could lead people to ignore public health advice and therefore increase the risk of transmitting the disease. But Ms Daza told reporters on Sunday: \"One of the things that we know is that a person who has had the illness has a lower probability of becoming ill again.\" She added that the certificates would not confirm that people had immunity to Covid-19, but rather state that they had recovered from the disease and had completed a period of isolation. At least 200,000 people have died with the coronavirus across the world, and many governments are now trying to find ways to ease their lockdown restrictions.", 
         "A Kenyan nurse found herself being shunned and harassed after she prepared a patient for a Covid-19 test while she was on a nightshift.  Eunice Mwabili says the case was handled professionally - she wore personal protective equipment while dealing with the man, who was placed in an isolation room at the hospital. By the next morning, her friends and neighbours in the capital, Nairobi, had begun to avoid her, fearing she had become infected with coronavirus. It is unclear who leaked the information that she had organised to have the patient tested - but both her name and number were leaked on social media. The patient ended up being negative, but that news never filtered out - the damage was done. She began to receive phone calls from strangers - some wanting to know where she worked - and anxious friends wanting to find out her status.  \"Out there it was like I was already a Covid suspect. It really affected me. The story was even on the media. It was on TV,\" Ms Mwabili told the BBC. One neighbour shouted to her: \"I hear you are the one catching coronavirus patients.\" An acquaintance told her husband that she really pitied him \"because of what has happened to your wife\". \"Do you imagine, up to today that lady friend has never bothered to call me to find out how I'm doing after that incident,\" she said. She is not the only Kenyan who has faced coronavirus-linked stigma. Even some of those who have recovered have found it hard to be accepted back into their communities. Recently Health Minister Mutahi Kagwe spoke about someone who had fully recovered but was not allowed to re-join their local choir. The ministry says others have found that after leaving hospital even their families have been stigmatised. And the fear is pervasive. One man I contacted to find out about life in a quarantine centre refused to answer my questions as he feared the stigma he would be subjected to afterwards. He had been sent to the facility as a precautionary measure for 14 days after some people in the apartment block in which he lived tested positive for coronavirus - though he never contracted the virus. Even before the country registered its first coronavirus infection, an MP's xenophobic Facebook message went viral in February as he called for his constituents to avoid nationals from China, where the virus originated.  In April, Brenda Cherotich, among the first coronavirus patients to recover, was interviewed on television about her experiences. Officials wanted her to be the beacon of hope, to show that people could survive the illness - instead she was subjected to cyberbullying. Not long after that, a 27-year-old man in the coastal city of Mombasa was \"condemned to death by medics\" who abandoned him in his hour of need fearing he had Covid-19, his father told The People Daily newspaper. For the nurse, Ms Mwabili, it all started when Davis Muturi walked into private Catholic Church-run hospital where she worked at the end of March. The 40-year-old chef had returned from the US a week before. He had gone into self-isolation on his return, asking his family to move in with relatives as a precaution. \"I had a one-month-old baby who I had never seen, and my wife was shocked and worried that I was sending the family away and did not want to see them. But after explaining, she understood that it was for the good of the family,\" he told the BBC. After seven days, he went to the hospital for a test because he was scared by reports on social media about the virus - and he wanted to be sure he didn't have it. \"The way they put it is like everyone who came into the country was already affected,\" he said. But after he did the test his name and phone number were also leaked - with people alleging online that he had coronavirus. Even though he had tested negative, he was afraid of leaving his house - scared he would be accused of deliberately trying to infect other people. He contacted Ms Mwabili to see if she knew how their information had been shared: \"She told me that her colleagues were even asking her why she was not isolating herself. But I was not even positive.\" Ms Mwabili can only point to a visit by the police on the evening of Mr Muturi's check-up. The officers had wanted information about suspected Covid-19 patients as part of an ongoing investigation into an escape from a coronavirus quarantine centre. It seems a police memo about their visit was leaked.  \"I don't know exactly how it leaked with my name and details, as well as that of my client,\" she said.  The hospital has complained about the leak, and police say the matter is under investigation.  Ms Mwabili says what made it more challenging was after the leak, she went down with tonsillitis for a week. \"When I resumed at work, some of my colleagues were asking, 'Did you go on quarantine?'... You can just suspect what was going through their minds.\" More than a month later, Ms Mwabili says she is a stronger person after going through the experience. It has made her more determined to do her job well as \"each person, whether positive or negative, needs our services\". For Mr Muturi, the moment he learnt that he was Covid-19-free, he could not wait to meet his new baby. \"That very day, they came back immediately, I couldn't let my family stay for another night away from me.\"",
         "Testing of the malaria drug hydroxychloroquine as a possible treatment for coronavirus has been halted because of safety fears, the World Health Organization (WHO) says. Trials in several countries are being \"temporarily\" suspended as a precaution, the agency said on Monday. It comes after a recent medical study suggested the drug could increase the risk of patients dying from Covid-19. President Donald Trump has said he has taken the drug to ward off the virus. The US president has repeatedly promoted the anti-malarial drug, against medical advice and despite warnings from public health officials that it could cause heart problems. Last week, a study in medical journal The Lancet said there were no benefits to treating coronavirus patients with hydroxychloroquine, and that taking it might even increase the number of deaths among those in hospital with the disease. Hydroxychloroquine is safe for malaria, and conditions like lupus or arthritis, but no clinical trials have recommended its use for treating Covid-19. The WHO, which is running clinical trials of various drugs to assess which might be beneficial in treating the disease, has previously raised concerns over reports of individuals self-medicating and causing themselves serious harm. On Monday, officials at the UN health agency said hydroxychloroquine would be removed from those trials pending a safety assessment.  The Lancet study involved 96,000 coronavirus patients, nearly 15,000 of whom were given hydroxychloroquine - or a related form chloroquine - either alone or with an antibiotic. The study found that the patients were more likely to die in hospital and develop heart rhythm complications than other Covid patients in a comparison group. The death rates of the treated groups were: hydroxychloroquine 18%; chloroquine 16.4%; control group 9%. Those treated with hydroxychloroquine or chloroquine in combination with antibiotics had an even higher death rate. The researchers warned that hydroxychloroquine should not be used outside of clinical trials.",
         "A former top US health official has told Congress the country could face its \"darkest winter in modern history\" because of the coronavirus. Rick Bright led the government agency trying to develop a vaccine, but was removed from his post last month. Mr Bright says he was ousted from the job after refusing to promote an untested drug treatment being touted as a \"game changer\" by President Trump. Mr Trump has claimed Mr Bright is a \"disgruntled\" employee. Mr Bright also told the House of Representatives subcommittee on health \"lives were lost\" because of government \"inaction\" in the early stages of the outbreak. He said he first spoke out about a medical equipment shortage in January, raising the issue to the \"highest levels\" of the Department of Health and Human Services (HHS), but \"got no response\". In other US developments: During his testimony, Mr Bright warned that the US's \"window of opportunity\" to deal with the coronavirus was \"closing\". \"If we fail to improve our response now, based on science, I fear the pandemic will get worse and be prolonged,\" he said. \"Without better planning, 2020 could be the darkest winter in modern history.\" Mr Bright also told the subcommittee that in January he received an email he would \"never forget\", from a supplier of medical-grade face masks who warned of a severe shortage. \"He said... we need to act. And I pushed that forward to the highest level that I could of HHS - and got no response.\" Mr Bright said his removal from his post was the result of his insisting that money allocated by Congress to deal with the virus should be put \"into safe and scientifically vetted solutions, and not in drugs, vaccines and other technologies that lack scientific merit\". \"I spoke out then, and I am testifying today, because science - not politics or cronyism - must lead the way to combat this deadly virus,\" he added. A whistleblower complaint, filed earlier this month, says Mr Bright was removed from his post as director of the Biomedical Advanced Research and Development Authority (Barda) for political reasons. Mr Bright says he was ousted for refusing to push the drugs hydroxychloroquine and the related chloroquine as potential cures for Covid-19. President Trump had referred to hydroxychloroquine, an antimalarial drug, as a potential \"game-changer\" in the treatment of Covid-19 - despite many experts cautioning that it could be ineffective or even dangerous. Research conducted by the Veterans Health Administration in the US which has been submitted for expert review suggests the drug gave no benefits for those taking it, and could actually raise the risk of death for patients in US veterans hospitals.  Mr Bright's complaint alleges that he chose to speak to a journalist because government officials \"refused to listen\" to his warnings. He said he had an obligation to try and protect the public \"from drugs which he believed constituted a substantial and specific danger to public health and safety\". After the hearing, President Trump told reporters: \"I don't know him. I never met him. I don't want to meet him. \"But I watched him, and he looks like an angry, disgruntled employee who, frankly, according to some people, didn't do a very good job.\" Health secretary Alex Azar claimed officials had followed Mr Bright's recommendations. \"Everything he was complaining about was achieved - what he talked about was done,\" Mr Azar said. \"He said he talked about the need for respirators. We procured respirators at the president's direction. He said we need a Manhattan Project on a vaccine. We had a Manhattan Project.\"",
         "As many as 190,000 people across Africa could die in the first year of the coronavirus pandemic if crucial containment measures fail, the World Health Organization (WHO) warns. The new research also predicts a prolonged outbreak over a few years. \"It likely will smoulder in transmission hot spots,\" says WHO Africa head Matshidiso Moeti. This patchier and slower pattern of transmission sets Africa apart from other regions, WHO experts say. Other factors taken into account are the region's younger populations who have \"benefitted from the control of communicable diseases such as HIV and tuberculosis\", as well as lower mortality rates. The WHO's warning comes as Africa's most populous nation, Nigeria, plus others including South Africa and Ivory Coast, have begun relaxing some of their lockdown measures. The study finds that between 29 million and 44 million people in the WHO African region could get infected in the first year of the pandemic. Between 83,000 and 190,000 could die in the same period, it warns. The estimates are based on prediction modelling, and focus on 47 countries in the WHO African region with a combined population of one billion - Egypt, Libya, Tunisia, Morocco, Eritrea, Sudan, Somalia and Djibouti are not included. Across the whole of the African continent more than 2,000 coronavirus deaths have been recorded by Africa's Centre for Disease Control. By comparison, 140,000 have died in Western Europe, where the virus took hold several weeks earlier. Cases have been recorded in every African nation except Lesotho. South Africa has the highest number of confirmed cases - more than 8,200 and 160 deaths - while Algeria has the most deaths - 483. \"Covd-19 could become a fixture in our lives for the next several years unless a proactive approach is taken by many governments in the region,\" Dr Moeti says in a WHO statement.  \"We need to test, trace, isolate and treat.\""]
         
result = topic_modelling(corpus,5,10)
print(result)